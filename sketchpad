
<!--
Prototype Code by Pascal Lola
Mapbox Token: pk.eyJ1IjoicHRsb2xhIiwiYSI6IjZ3UVIyRUkifQ.nazs7oys3yjWKyEyuJieJw

-->
<!doctype html>
<html lang="eng">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Geographic Asset Visualization</title>
    
    
    <!--<link rel="stylesheet" href="bootstrap/css/bootstrap.css">-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.5/css/bootstrap.min.css" integrity="sha384-AysaV+vQoT3kOAXZkl02PThvDr8HYKPZhNT5h/CXfBThSRXQ6jW5DO2ekP5ViFdi" crossorigin="anonymous">
    
	<link rel="stylesheet" href="custom.css"/>
    <script src='https://api.mapbox.com/mapbox-gl-js/v0.26.0/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v0.26.0/mapbox-gl.css' rel='stylesheet' />
    
    <style>
        #map-container { margin:0; padding:0;}
        #map { position:absolute; top:0; bottom:0; width:100%; height:905px; }
        #content-container {margin-top: 54px}
    </style>

  </head>

  <body>
    <nav class="navbar navbar-fixed-top navbar-dark bg-inverse">
      <a class="navbar-brand" href="#">POA</a>
      <span class="navbar-text float-xs-left" style="color:white;">
        Geographic Asset Visualization
      </span>
    </nav>

    <div id="content-container" class="container-fluid">
      <div class="row">
        <div id="map-container" class="col-md-10">
          <div id='map'></div>
        </div>
        
        <div class="col-md-2" >
          <br/>
          <h3>Dashboard</h3>
          <hr/>
          
          <button id="reset-map" class="btn btn-md btn-secondary">Reset View</button>

        </div>

      </div>
    </div>
    
    <script>
      mapboxgl.accessToken = 'pk.eyJ1IjoicHRsb2xhIiwiYSI6IjZ3UVIyRUkifQ.nazs7oys3yjWKyEyuJieJw';
      var map = new mapboxgl.Map({
        container: 'map',
        style: 'mapbox://styles/mapbox/light-v9',
        minZoom: 1,
      });
      
      var nav = new mapboxgl.NavigationControl({position: 'bottom-left'}); // position is optional
      map.addControl(nav);
      map.addControl(new mapboxgl.GeolocateControl({position: 'bottom-left'})); // position is optional
      
      document.getElementById('reset-map').addEventListener("click", function() {
        map.setCenter([-112, 38]);
        map.zoomTo(1);
      });
      
      
      map.on ('load', function (){
        map.addSource("points" , {
          "type": "geojson",
          "data": {
            "type": "FeatureCollection",
            "features": [{
                "type": "Feature",
                "properties": {
                  "title": "Name 1",
                  "icon": "circle",
                },
                "geometry": {
                  "type": "Point",
                  "coordinates": [-2.0716094970703125,57.146670749050166]
                }
              },
              {
                "type": "Feature",
                "properties": {
                  "title": "Name 2",
                  "icon": "circle"
                },
                "geometry": {
                  "type": "Point",
                  "coordinates": [-89.791259765625, 29.07057414581467]
                }
              },
              {
                "type": "Feature",
                "properties": {
                  "title": "Name 3",
                  "icon": "circle"
                },
                "geometry": {
                  "type": "Point",
                  "coordinates": [11.05224609375,-7.819847426192575]
                }
              }//feature
            ]//end features
            
          }//end data
        });//end addSource
        
        map.addLayer({
          "id": "points",
          "type": "symbol",
          "source": "points",
          "layout": {
              "icon-image": "{icon}-15"
              //"text-field": "{title}",
              //"text-offset": [0, 0.6],
              //"text-anchor": "top"
            }
        });
        
      });//end map onload fucntion

    </script>

    <!--Run these scripts last, after the body has loaded-->                        
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js" integrity="sha384-3ceskX3iaEnIogmQchP8opvBy3Mi7Ce34nWjpBIwVTHfGYWQS9jwHDVRnpKKHJg7" crossorigin="anonymous"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.3.7/js/tether.min.js" integrity="sha384-XTs3FgkjiBgo8qjEjBk0tGmf3wPrWtA6coPfQDfFEY8AnYJwjalXCiosYRBIBZX8" crossorigin="anonymous"></script>
    
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.5/js/bootstrap.min.js" integrity="sha384-BLiI7JTZm+JWlgKa0M0kGRpJbF2J8q+qreVrKBC47e3K6BW78kGLrCkeRX6I9RoK" crossorigin="anonymous"></script>
    <script type="text/javascript" src="custom.js"></script>

    
  </body>
</html>

